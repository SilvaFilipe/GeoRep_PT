{"version":3,"sources":["webpack:///./src/views/AddLand.vue?7af0","webpack:///./src/components/PickAreaMap.vue?025a","webpack:///src/components/PickAreaMap.vue","webpack:///./src/components/PickAreaMap.vue?2e2f","webpack:///../../../src/components/VGrid/VCol.ts","webpack:///./src/components/PickAreaMap.vue?b7df","webpack:///src/views/AddLand.vue","webpack:///./src/views/AddLand.vue?1ab9","webpack:///./src/views/AddLand.vue?7c4d","webpack:///./src/components/PickAreaMap.vue?bbf1","webpack:///./src/views/AddLand.vue?ee03","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///./src/components/FileInput.vue?c708","webpack:///src/components/FileInput.vue","webpack:///./src/components/FileInput.vue?c825","webpack:///./src/components/FileInput.vue?f360","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./src/components/FileInput.vue?3f40","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","$t","model","value","callback","$$v","activeTab","expression","staticClass","pickedCounty","countyName","_e","submitTabEnability","name","description","isPrivate","scopedSlots","_u","key","fn","ref","on","_g","staticStyle","imageFilesChanged","imageFiles","length","_l","item","i","dataUrl","validationFilesChanged","pickedCountyChanged","$event","landCoordsSet","getDistrictName","getCountyName","landAreaHa","landAreaKm","proxy","changeMapType","directives","rawName","isMapTypeSatellite","submitLand","staticRenderFns","geocodeSearchExpression","class","confirmBack","undoLastSpotEnability","undoLastSpot","redoMoveEnability","redoMove","setLandEnability","setLand","returnDialog","back","props","data","map","userPolyline","pathsQuantity","userPolylinePathsArray","mapWasClicked","maxDistance","undonePathsArray","polygonsPathsArray","landSet","geodata","userPolygonFinal","marker","makeHoleEnability","outerPolygon","geocodeSearchTimeout","pickedDistrictName","mounted","countysCoords","districtData","find","centerCoords","countyCoords","geojsonDistricts","features","generateMap","generateOuterPolygon","generateOtherPolygons","generateUserPolyline","startKeyboardShorcutsListener","startClickListener","startPathListeners","startFirstVertexListener","computed","getMapTypeId","watch","newVal","inputDelay","clearTimeout","_this","setTimeout","geoData","getGeocode","then","res","status","result","results","apAdressComponent","pnAdressComponent","geocodeExpressionFound","geometry","location","msg","type","methods","mapDiv","document","getElementById","options","zoom","center","lat","parseFloat","split","lng","google","maps","Map","setOptions","setMapTypeId","coords","setZoom","setCenter","addEventListener","event","keyCode","ctrlKey","getAllLands","success","lands","landsCoordinates","forEach","land","singleCoord","substring","push","indexOf","bluePolygonColor","polygonOptions","path","strokeColor","fillColor","otherPolygon","Polygon","setMap","spots","MVCArray","userPolylineOptions","editable","suppressUndo","Polyline","addListener","clickableItem","verifyDistance","e","addSpot","verifyPathSelfIntersects","getPath","verifyPortugueseTerritory","latLng","verifySpotInsidePolygon","pathsQuantityTemp","vertex","finishHoleInLand","coordinates","googleMaps2JTS","geometryFactory","jsts","geom","GeometryFactory","createLineString","isSimple","undefined","distance","spherical","computeDistanceBetween","correctMarkerPosition","deleteMarker","generateMarker","getNthSpotCoords","Marker","position","icon","saveLastPath","pathTempCopy","jQuery","extend","rawCoords","spotCoords","LatLng","addInnerSpot","setNewSpotPosition","setPath","getArray","pop","pathFinal","resetPolyline","finish","makeHoleInLand","pathHoleFinal","paths","computedArea","computeArea","$emit","getLength","spot","Coordinate","breakpoints","breakpointProps","Boolean","String","default","offsetProps","orderProps","propMap","col","Object","offset","order","breakpointClass","className","val","breakpoint","prop","cache","functional","cols","alignSelf","validator","str","includes","justifySelf","tag","render","cacheKey","parent","classList","hasColClasses","h","mergeData","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VIcon","VSpacer","VTextField","VTooltip","components","DistrictsMap","PickAreaMap","FileInput","landArea","validationFiles","generateSubmitMap","generateNewPolygon","polygon","county","polyline","landCoords","Math","trunc","district","properties","id","districtCode","districtID","j","code","countyCode","area","isPublic","requiringValidation","addland","saveFiles","allFiles","concat","file","relatedId","landId","relatedTable","addfile","openValidationProcess","landName","$router","$i18n","locale","state","addvalidation","validation","images","files","VBtnToggle","VCarousel","VCarouselItem","VSimpleTable","VTab","VTabItem","VTabs","VTextarea","baseMixins","autoGrow","noResize","rowHeight","Number","v","isNaN","rows","parseInt","classes","noResizeHandle","lazyValue","$nextTick","calculateInputHeight","input","$refs","height","minHeight","genInput","onInput","onKeyDown","isFocused","onFilesChange","callFileInput","btnLabel","tableHeaders","deleteFile","pagination","rowsPerPage","initialFiles","imageExts","validationExts","fileInput","click","readFile","fileReader","FileReader","maxFileSize","fileToRead","currentTarget","fileObj","contentType","fileExtension","readAsDataURL","splice","target","VDataTable","$","lastIndexOf","proto","forced","toIndexedObject","toInteger","toLength","sloppyArrayMethod","min","nativeLastIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","module","exports","searchElement","apply","arguments","O","index"],"mappings":"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","file":"js/chunk-3a0e9514.c4fa8552.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"addLand\"}},[_c('h4',[_vm._v(_vm._s(_vm.$t('land.addland')))]),_c('p',[_vm._v(_vm._s(_vm.$t('land.fillfields')))]),_c('v-card',[_c('v-tabs',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('v-tab',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")]),_vm._v(\" \"+_vm._s(_vm.$t('label.info'))+\" \")],1),_c('v-tab',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-file-check-outline\")]),_vm._v(\" \"+_vm._s(_vm.$t('label.validation'))+\" \")],1),_c('v-tab',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-map-marker-multiple\")]),_vm._v(\" \"+_vm._s(_vm.$t('label.map'))+\" \")],1),(_vm.pickedCounty)?_c('p',{staticClass:\"font-weight-light county-name-font\"},[_vm._v(_vm._s(_vm.pickedCounty.countyName))]):_vm._e(),_c('v-tab',{attrs:{\"disabled\":!_vm.submitTabEnability}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-send\")]),_vm._v(\" \"+_vm._s(_vm.$t('button.submit'))+\" \")],1),_c('v-tab-item',[_c('v-card',[_c('v-text-field',{staticClass:\"sidePadding\",attrs:{\"spellcheck\":\"false\",\"maxlength\":\"100\",\"label\":_vm.$t('land.landname')},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-textarea',{staticClass:\"sidePadding\",attrs:{\"spellcheck\":\"false\",\"maxlength\":\"800\",\"auto-grow\":\"\",\"label\":_vm.$t('land.landdescription')},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_c('v-btn-toggle',{staticClass:\"sidePadding\",attrs:{\"mandatory\":\"\"},model:{value:(_vm.isPrivate),callback:function ($$v) {_vm.isPrivate=$$v},expression:\"isPrivate\"}},[_c('v-btn',{attrs:{\"value\":\"0\"}},[_c('span',{staticClass:\"hidden-sm-and-down\"},[_vm._v(_vm._s(_vm.$t('button.public')))]),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-earth\")])],1),_c('v-btn',{attrs:{\"value\":\"1\"}},[_c('span',{staticClass:\"hidden-sm-and-down\"},[_vm._v(_vm._s(_vm.$t('button.private')))]),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-account-lock-outline\")])],1)],1),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticStyle:{\"margin-top\":\"-20px\"},attrs:{\"color\":\"grey\",\"dark\":\"\"}},on),[_vm._v(\"mdi-help-circle\")])]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('land.public_private_help')))])]),_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"1160px\"}},[_c('FileInput',{staticStyle:{\"width\":\"40%\"},attrs:{\"id\":\"fileInputImages\",\"btnLabel\":_vm.$t('button.attach_pictures'),\"type\":\"image\",\"maxFilesQtty\":20},on:{\"filesChanged\":_vm.imageFilesChanged}}),(_vm.imageFiles.length > 0)?_c('v-carousel',{attrs:{\"id\":\"carouselImageFiles\"}},_vm._l((_vm.imageFiles),function(item,i){return _c('v-carousel-item',{key:i,staticStyle:{\"height\":\"300px\"},attrs:{\"src\":item.dataUrl,\"reverse-transition\":\"fade-transition\",\"transition\":\"fade-transition\"}})}),1):_vm._e()],1)],1)],1),_c('v-tab-item',[_c('v-card',{staticStyle:{\"min-height\":\"192px\"}},[_c('p',{staticClass:\"sidePadding\"},[_vm._v(_vm._s(_vm.$t('land.land_validation_info')))]),_c('FileInput',{staticStyle:{\"width\":\"40%\"},attrs:{\"id\":\"fileInputValidation\",\"btnLabel\":_vm.$t('button.attach_files'),\"type\":\"validation\",\"maxFilesQtty\":20},on:{\"filesChanged\":_vm.validationFilesChanged}})],1)],1),_c('v-tab-item',[(!_vm.pickedCounty)?_c('DistrictsMap',{attrs:{\"mapHeight\":\"635\"},on:{\"pickedCountyChanged\":_vm.pickedCountyChanged}}):_vm._e(),(_vm.pickedCounty)?_c('PickAreaMap',{attrs:{\"pickedCounty\":_vm.pickedCounty},on:{\"back\":function($event){return _vm.pickedCountyChanged(null)},\"landFinished\":_vm.landCoordsSet}}):_vm._e()],1),_c('v-tab-item',[_c('v-card',[_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',{staticClass:\"table-headers-font\"},[_vm._v(_vm._s(_vm.$t('label.name')))]),_c('td',[_vm._v(_vm._s(_vm.name))]),_c('td',{staticClass:\"table-headers-font\"},[_vm._v(_vm._s(_vm.$t('label.description')))]),_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.description))])]),_c('tr',[_c('td',{staticClass:\"table-headers-font\"},[_vm._v(_vm._s(_vm.$t('label.district')))]),_c('td',[_vm._v(_vm._s(_vm.getDistrictName()))]),_c('td',{staticClass:\"table-headers-font\"},[_vm._v(_vm._s(_vm.$t('label.county')))]),_c('td',[_vm._v(_vm._s(_vm.getCountyName()))]),_c('td',{staticClass:\"table-headers-font\"},[_vm._v(_vm._s(_vm.$t('label.area')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.landAreaHa)+\"ha / \"+_vm._s(_vm.landAreaKm)+\" km \"),_c('sup',[_vm._v(\"2\")])])])])]},proxy:true}])}),_c('v-card',{attrs:{\"id\":\"mapSubmit\"}}),_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"map-type-btn\",attrs:{\"x-large\":\"\",\"color\":\"primary\",\"fab\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.changeMapType()}}},on),[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMapTypeSatellite),expression:\"!isMapTypeSatellite\"}],attrs:{\"color\":\"#75ce2e\"}},[_vm._v(\"mdi-earth-box\")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMapTypeSatellite),expression:\"isMapTypeSatellite\"}],attrs:{\"color\":\"#f9df9a\"}},[_vm._v(\"mdi-map-marker-path\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.change_map_type')))])]),_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"disabled\":!_vm.submitTabEnability,\"id\":\"btnSubmitLand\",\"fab\":\"\",\"x-large\":\"\"},on:{\"click\":_vm.submitLand}},on),[_c('v-icon',[_vm._v(\"mdi-map-plus\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.submit_land')))])])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"divWrapperMap\"}},[_c('v-card',{attrs:{\"id\":\"map\"}}),_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"map-type-btn\",attrs:{\"x-large\":\"\",\"color\":\"primary\",\"fab\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.changeMapType()}}},on),[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMapTypeSatellite),expression:\"!isMapTypeSatellite\"}],attrs:{\"color\":\"#75ce2e\"}},[_vm._v(\"mdi-earth-box\")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMapTypeSatellite),expression:\"isMapTypeSatellite\"}]},[_vm._v(\"mdi-map-marker-path\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.change_map_type')))])]),_c('v-text-field',{staticClass:\"geocode-search\",attrs:{\"solo\":\"\",\"spellcheck\":\"false\",\"append-icon\":\"search\"},model:{value:(_vm.geocodeSearchExpression),callback:function ($$v) {_vm.geocodeSearchExpression=$$v},expression:\"geocodeSearchExpression\"}}),_c('div',{key:\"end\",class:\"d-flex justify-end mb-6\",attrs:{\"id\":\"mapBtns\",\"flat\":\"\",\"tile\":\"\"}},[_c('v-col',[_c('div',{staticClass:\"pa-2\",attrs:{\"tile\":\"\"}},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"x-large\":\"\"},on:{\"click\":_vm.confirmBack}},on),[_c('v-icon',[_vm._v(\"mdi-arrow-left\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.back')))])])],1),_c('div',{staticClass:\"pa-2\",attrs:{\"tile\":\"\"}},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"x-large\":\"\",\"color\":\"primary\",\"disabled\":!_vm.undoLastSpotEnability},on:{\"click\":_vm.undoLastSpot}},on),[_c('v-icon',[_vm._v(\"mdi-undo-variant\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.undo')))])])],1),_c('div',{staticClass:\"pa-2\",attrs:{\"tile\":\"\"}},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"color\":\"primary\",\"disabled\":!_vm.redoMoveEnability},on:{\"click\":_vm.redoMove}},on),[_c('v-icon',[_vm._v(\"mdi-redo-variant\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.redo')))])])],1),_c('div',{staticClass:\"pa-2\",attrs:{\"tile\":\"\"}},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"x-large\":\"\",\"color\":\"green\",\"disabled\":!_vm.setLandEnability},on:{\"click\":_vm.setLand}},on),[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-map-check\")])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.$t('button.end_land')))])])],1)])],1),_c('v-dialog',{attrs:{\"max-width\":\"480\"},model:{value:(_vm.returnDialog),callback:function ($$v) {_vm.returnDialog=$$v},expression:\"returnDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.$t('land.confirm_return')))]),_c('v-card-text',[_vm._v(_vm._s(_vm.$t('land.sub_confirm_return')))]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.returnDialog = false}}},[_vm._v(_vm._s(_vm.$t('button.cancel')))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.returnDialog = false;_vm.back()}}},[_vm._v(_vm._s(_vm.$t('button.return')))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"divWrapperMap\">\r\n    <v-card id=\"map\" />\r\n    <!-- Map type button -->\r\n    <v-tooltip left>\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn\r\n          v-on=\"on\"\r\n          class=\"map-type-btn\"\r\n          x-large\r\n          color=\"primary\"\r\n          fab\r\n          dark\r\n          @click=\"changeMapType()\"\r\n        >\r\n          <v-icon v-show=\"!isMapTypeSatellite\" color=\"#75ce2e\">mdi-earth-box</v-icon>\r\n          <v-icon v-show=\"isMapTypeSatellite\">mdi-map-marker-path</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <span>{{ $t('button.change_map_type') }}</span>\r\n    </v-tooltip>\r\n\r\n    <v-text-field\r\n      solo\r\n      spellcheck=\"false\"\r\n      class=\"geocode-search\"\r\n      append-icon=\"search\"\r\n      v-model=\"geocodeSearchExpression\"\r\n    ></v-text-field>\r\n\r\n    <div id=\"mapBtns\" key=\"end\" :class=\"`d-flex justify-end mb-6`\" flat tile>\r\n      <v-col>\r\n        <div class=\"pa-2\" tile>\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn v-on=\"on\" @click=\"confirmBack\" fab x-large>\r\n                <v-icon>mdi-arrow-left</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>{{ $t('button.back') }}</span>\r\n          </v-tooltip>\r\n        </div>\r\n        <div class=\"pa-2\" tile>\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn\r\n                v-on=\"on\"\r\n                fab\r\n                x-large\r\n                @click=\"undoLastSpot\"\r\n                color=\"primary\"\r\n                :disabled=\"!undoLastSpotEnability\"\r\n              >\r\n                <v-icon>mdi-undo-variant</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>{{ $t('button.undo') }}</span>\r\n          </v-tooltip>\r\n        </div>\r\n        <div class=\"pa-2\" tile>\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn v-on=\"on\" fab @click=\"redoMove\" color=\"primary\" :disabled=\"!redoMoveEnability\">\r\n                <v-icon>mdi-redo-variant</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>{{ $t('button.redo') }}</span>\r\n          </v-tooltip>\r\n        </div>\r\n        <div class=\"pa-2\" tile>\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn\r\n                v-on=\"on\"\r\n                fab\r\n                x-large\r\n                @click=\"setLand\"\r\n                color=\"green\"\r\n                :disabled=\"!setLandEnability\"\r\n              >\r\n                <v-icon color=\"white\">mdi-map-check</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>{{ $t('button.end_land') }}</span>\r\n          </v-tooltip>\r\n        </div>\r\n        <!-- TODO fix holes <div class=\"pa-2\" tile>\r\n          <v-btn  fab x-large @click=\"makeHoleInLand\" v-if=\"makeHoleEnability\">Hole</v-btn>\r\n        </div>\r\n        <div class=\"pa-2\" tile>\r\n          <v-btn\r\n            \r\n            fab\r\n            x-large\r\n            @click=\"finishHoleInLand\"\r\n            :disabled=\"makeHoleEnability\"\r\n          >Finish hole</v-btn>\r\n        </div>-->\r\n        <!-- <div class=\"pa-2\" tile>\r\n          <v-btn  fab x-large @click=\"finish\">Finish land</v-btn>\r\n        </div>-->\r\n      </v-col>\r\n    </div>\r\n\r\n    <!-- Return confirmation dialog -->\r\n    <v-dialog v-model=\"returnDialog\" max-width=\"480\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">{{ $t('land.confirm_return') }}</v-card-title>\r\n        <v-card-text>{{ $t('land.sub_confirm_return') }}</v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn text @click=\"returnDialog = false\">{{ $t('button.cancel') }}</v-btn>\r\n          <v-btn text @click=\"returnDialog = false;back()\">{{ $t('button.return') }}</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script async defer\r\nsrc=\"https://maps.googleapis.com/maps/api/js?key=*GOOGLE_API_KEY*&libraries=drawing\">\r\n</script>\r\n<script>\r\nimport { eventBus } from \"../main\";\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  props: [\"pickedCounty\"],\r\n  data() {\r\n    return {\r\n      map: null,\r\n      userPolyline: null,\r\n      pathsQuantity: 0,\r\n      userPolylinePathsArray: [],\r\n      mapWasClicked: false, //variavel que verifica se o ponto adicionado já foi contado, para nao entrar no listener de inserção de inner points\r\n      maxDistance: null, //Max distance allowed from first spot in meters\r\n      undonePathsArray: [], //Array with paths that were undone, in case of redo\r\n      polygonsPathsArray: [], //Array that includes all polygons, first is the main area, remaining are holes\r\n      landSet: false, //variavel que indica se area ja foi definida, para listener de holes\r\n      geodata: \"\", //variavel para verificar localizacao do ultimo ponto\r\n      userPolygonFinal: null,\r\n      marker: null,\r\n      redoMoveEnability: false,\r\n      makeHoleEnability: false,\r\n      returnDialog: false,\r\n      outerPolygon: null,\r\n      geocodeSearchExpression: \"\",\r\n      geocodeSearchTimeout: null,\r\n      pickedDistrictName: null\r\n    };\r\n  },\r\n  mounted() {\r\n    var countysCoords = require(\"../properties\").countysCoords;\r\n    var districtData = countysCoords.find(\r\n      d => d.properties.districtID == this.pickedCounty.districtCode\r\n    ).features;\r\n\r\n    var centerCoords = districtData.find(\r\n      d => d.properties.code == this.pickedCounty.countyCode\r\n    ).properties.coords;\r\n\r\n    //Get county coordinates to make hole in outer polygon\r\n    var countyCoords = districtData.find(\r\n      d => d.properties.code == this.pickedCounty.countyCode\r\n    ).geometry.coordinates[0];\r\n\r\n    var geojsonDistricts = require(\"../properties\").geojsonDistricts;\r\n    this.pickedDistrictName = geojsonDistricts.features.find(\r\n      d => d.properties.id == this.pickedCounty.districtCode\r\n    ).properties.name;\r\n\r\n    this.generateMap(centerCoords);\r\n    this.generateOuterPolygon(countyCoords);\r\n    this.generateOtherPolygons();\r\n    this.generateUserPolyline();\r\n    this.startKeyboardShorcutsListener();\r\n    this.startClickListener(this.map); //Add new spot when map is clicked\r\n    this.startPathListeners();\r\n    this.startFirstVertexListener();\r\n    this.maxDistance = require(\"../properties\").maxDistance;\r\n  },\r\n  computed: {\r\n    undoLastSpotEnability() {\r\n      return this.pathsQuantity > 0;\r\n    },\r\n    setLandEnability() {\r\n      return this.pathsQuantity >= 3;\r\n    },\r\n    isMapTypeSatellite() {\r\n      if (this.map && this.map.getMapTypeId()) {\r\n        return \"satellite\" == this.map.getMapTypeId();\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    geocodeSearchExpression(newVal) {\r\n      if (!newVal) {\r\n        clearTimeout(this.geocodeSearchTimeout);\r\n        return;\r\n      }\r\n\r\n      var inputDelay = require(\"../properties\").geocodeInputDelay;\r\n      //Delay, so the value only changes when the user stops typing for 'inputDelay' ms\r\n      if (this.geocodeSearchTimeout != null) {\r\n        clearTimeout(this.geocodeSearchTimeout);\r\n      }\r\n\r\n      var _this = this;\r\n      this.geocodeSearchTimeout = setTimeout(function() {\r\n        this.geocodeSearchTimeout = null;\r\n        var geoData = { expression: newVal };\r\n\r\n        _this.getGeocode(geoData).then(res => {\r\n          if (\"OK\" == res.data.status) {\r\n            var result = res.data.results[0];\r\n\r\n            //Check if location is in the picked district\r\n            //The district name is always the antepenultimate or penultimate element in 'address_components'\r\n            var apAdressComponent =\r\n              result.address_components[result.address_components.length - 3]\r\n                .long_name; //antepenultimate\r\n            var pnAdressComponent =\r\n              result.address_components[result.address_components.length - 2]\r\n                .long_name; //penultimate\r\n\r\n            if (\r\n              apAdressComponent == _this.pickedDistrictName ||\r\n              pnAdressComponent == _this.pickedDistrictName\r\n            ) {\r\n              _this.geocodeExpressionFound(result.geometry.location);\r\n            } else {\r\n              eventBus.$emit(\"generateGrowl\", {\r\n                msg:\r\n                  _this.$t(\"msg.geocode_no_results_district\") +\r\n                  _this.pickedDistrictName +\r\n                  \".\",\r\n                type: \"error\"\r\n              });\r\n            }\r\n          } else {\r\n            eventBus.$emit(\"generateGrowl\", {\r\n              msg:\r\n                _this.$t(\"msg.geocode_no_results_district\") +\r\n                _this.pickedDistrictName +\r\n                \".\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n        });\r\n      }, inputDelay);\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getAllLands\", \"getGeocode\"]),\r\n\r\n    generateMap(centerCoords) {\r\n      var mapDiv = document.getElementById(\"map\");\r\n\r\n      var options = require(\"../properties\").googleMapOptions;\r\n      options.zoom = 17;\r\n      options.center = {\r\n        lat: parseFloat(centerCoords.split(\", \")[0]),\r\n        lng: parseFloat(centerCoords.split(\", \")[1])\r\n      };\r\n\r\n      this.map = new google.maps.Map(mapDiv, options);\r\n      this.map.setOptions({ draggableCursor: \"crosshair\" });\r\n    },\r\n    changeMapType() {\r\n      if (this.isMapTypeSatellite) {\r\n        this.map.setMapTypeId(\"roadmap\");\r\n      } else {\r\n        this.map.setMapTypeId(\"satellite\");\r\n      }\r\n    },\r\n    geocodeExpressionFound(coords) {\r\n      if (!coords) return;\r\n      this.map.setZoom(15);\r\n\r\n      var center = {\r\n        lat: coords.lat,\r\n        lng: coords.lng\r\n      };\r\n      this.map.setCenter(center);\r\n    },\r\n    startKeyboardShorcutsListener() {\r\n      document.addEventListener(\"keydown\", event => {\r\n        //ctrl+z\r\n        if (\r\n          event.keyCode == 90 &&\r\n          event.ctrlKey &&\r\n          this.undoLastSpotEnability\r\n        ) {\r\n          this.undoLastSpot();\r\n        }\r\n\r\n        //ctrl+y\r\n        if (event.keyCode == 89 && event.ctrlKey && this.redoMoveEnability) {\r\n          this.redoMove();\r\n        }\r\n      });\r\n    },\r\n    generateOuterPolygon(countyCoords) {\r\n      return; //provisory\r\n\r\n      var outerPolygonCoordinates = [\r\n        new google.maps.LatLng(-85.1054596961173, -180),\r\n        new google.maps.LatLng(85.1054596961173, -180),\r\n        new google.maps.LatLng(85.1054596961173, 180),\r\n        new google.maps.LatLng(-85.1054596961173, 180),\r\n        new google.maps.LatLng(-85.1054596961173, 0)\r\n      ];\r\n\r\n      //Hole coordinates\r\n      var outerPolygonInnerCoordinates = [];\r\n      countyCoords.forEach(coord => {\r\n        outerPolygonInnerCoordinates.push(\r\n          new google.maps.LatLng(coord[1], coord[0])\r\n        );\r\n      });\r\n\r\n      var outerPolygonColor = require(\"../properties\").outerPolygonColor;\r\n      var polygonOptions = {\r\n        paths: [outerPolygonCoordinates, outerPolygonInnerCoordinates],\r\n        strokeColor: outerPolygonColor,\r\n        fillColor: outerPolygonColor\r\n      };\r\n      this.outerPolygon = new google.maps.Polygon(polygonOptions);\r\n      this.outerPolygon.setMap(this.map);\r\n    },\r\n    generateOtherPolygons() {\r\n      this.getAllLands().then(res => {\r\n        if (res.data.success) {\r\n          var lands = res.data.result;\r\n          var landsCoordinates = [];\r\n\r\n          //Insert coordinates of each land in the array\r\n          lands.forEach(function(land, i) {\r\n            landsCoordinates[i] = [];\r\n\r\n            //Iterate trough the coordinates\r\n            var coords = land.coords;\r\n            while (coords.length > 0) {\r\n              var singleCoord = coords.substring(\r\n                coords.indexOf(\"(\") + 1,\r\n                coords.indexOf(\")\")\r\n              );\r\n\r\n              //Create google coordinates\r\n              landsCoordinates[i].push(\r\n                new google.maps.LatLng(\r\n                  singleCoord.split(\", \")[0],\r\n                  singleCoord.split(\", \")[1]\r\n                )\r\n              );\r\n\r\n              coords = coords.substring(coords.indexOf(\")\") + 1);\r\n            }\r\n          });\r\n\r\n          var bluePolygonColor = require(\"../properties\").bluePolygonColor;\r\n\r\n          //For each land insert a polygon with its path\r\n          landsCoordinates.forEach(land => {\r\n            var polygonOptions = {\r\n              path: land,\r\n              strokeColor: bluePolygonColor,\r\n              fillColor: bluePolygonColor\r\n            };\r\n            var otherPolygon = new google.maps.Polygon(polygonOptions);\r\n            otherPolygon.setMap(this.map);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    generateUserPolyline() {\r\n      var spots = new google.maps.MVCArray();\r\n      var userPolylineOptions = {\r\n        path: spots,\r\n        editable: true,\r\n        suppressUndo: true\r\n      };\r\n      this.userPolyline = new google.maps.Polyline(userPolylineOptions);\r\n      this.userPolyline.setMap(this.map);\r\n    },\r\n    startClickListener(clickableItem) {\r\n      var _this = this;\r\n      google.maps.event.addListener(clickableItem, \"click\", function(e) {\r\n        if (_this.landSet) {\r\n          //If land is set do nothing when clicked\r\n          return;\r\n        }\r\n\r\n        //variavel para verificar se houve alteracoes na quantidade de paths, para resetar array de redos\r\n        var pathsQuantityTemp = _this.pathsQuantity;\r\n\r\n        _this.mapWasClicked = true;\r\n\r\n        if (_this.verifyDistance(e)) {\r\n          _this.addSpot(e);\r\n        } else {\r\n          return;\r\n        }\r\n\r\n        if (!_this.verifyPathSelfIntersects(_this.userPolyline.getPath())) {\r\n          _this.undoLastSpot();\r\n          return;\r\n        }\r\n\r\n        if (!_this.verifyPortugueseTerritory(e.latLng)) {\r\n          _this.undoLastSpot();\r\n          return;\r\n        }\r\n\r\n        if (_this.landSet) {\r\n          if (!_this.verifySpotInsidePolygon(e.latLng)) {\r\n            return;\r\n          }\r\n        }\r\n\r\n        if (_this.pathsQuantityTemp != _this.pathsQuantity) {\r\n          _this.undonePathsArray = [];\r\n          _this.redoMoveEnability = false;\r\n        }\r\n      });\r\n    },\r\n    startPathListeners() {\r\n      var _this = this;\r\n      //inner spot added\r\n      google.maps.event.addListener(\r\n        this.userPolyline.getPath(),\r\n        \"insert_at\",\r\n        function(e) {\r\n          if (_this.mapWasClicked) {\r\n            _this.mapWasClicked = false;\r\n            return;\r\n          }\r\n          var pathsQuantityTemp = _this.pathsQuantity;\r\n\r\n          _this.addInnerSpot(e);\r\n\r\n          if (\r\n            !_this.verifyDistance(_this.getNthSpotCoords(e)) ||\r\n            !_this.verifyPathSelfIntersects(_this.userPolyline.getPath()) ||\r\n            !_this.verifyPortugueseTerritory(_this.getNthSpotCoords(e))\r\n          ) {\r\n            _this.undoLastSpot();\r\n            return;\r\n          }\r\n\r\n          if (_this.landSet) {\r\n            if (!_this.verifySpotInsidePolygon(_this.getNthSpotCoords(e))) {\r\n              return;\r\n            }\r\n          }\r\n\r\n          if (pathsQuantityTemp != _this.pathsQuantity) {\r\n            _this.undonePathsArray = [];\r\n            _this.redoMoveEnability = false;\r\n          }\r\n        }\r\n      );\r\n      //spot changed position\r\n      google.maps.event.addListener(\r\n        this.userPolyline.getPath(),\r\n        \"set_at\",\r\n        function(e) {\r\n          var pathsQuantityTemp = _this.pathsQuantity;\r\n\r\n          _this.setNewSpotPosition();\r\n\r\n          if (!_this.landSet && e == 0) {\r\n            _this.correctMarkerPosition(e);\r\n            //iguala-se 'e' a 1 para a distancia ser verificada em relacao ao segundo ponto\r\n            e = 1;\r\n          }\r\n\r\n          if (\r\n            _this.pathsQuantity > 1 &&\r\n            (!_this.verifyDistance(_this.getNthSpotCoords(e)) ||\r\n              !_this.verifyPathSelfIntersects(_this.userPolyline.getPath()) ||\r\n              !_this.verifyPortugueseTerritory(_this.getNthSpotCoords(e)))\r\n          ) {\r\n            //timeout de 1 milisegundo antes de fazer undo para evitar bug de persistent pathline\r\n            setTimeout(function() {\r\n              _this.undoLastSpot();\r\n              return;\r\n            }, 1);\r\n          }\r\n\r\n          if (_this.landSet) {\r\n            if (!_this.verifySpotInsidePolygon(_this.getNthSpotCoords(e))) {\r\n              return;\r\n            }\r\n          }\r\n\r\n          if (pathsQuantityTemp != _this.pathsQuantity) {\r\n            _this.undonePathsArray = [];\r\n            _this.redoMoveEnability = false;\r\n          }\r\n        }\r\n      );\r\n    },\r\n    startFirstVertexListener() {\r\n      var _this = this;\r\n      //Click on the first vertex\r\n      google.maps.event.addListener(this.userPolyline, \"click\", function(e) {\r\n        if (e.vertex != 0) {\r\n          return;\r\n        }\r\n\r\n        if (_this.userPolyline.getPath().length >= 3) {\r\n          if (_this.landSet) {\r\n            _this.finishHoleInLand();\r\n          } else {\r\n            _this.setLand();\r\n          }\r\n        } else {\r\n          eventBus.$emit(\"generateGrowl\", {\r\n            msg: this.$t(\"land.insufficient_points\"),\r\n            type: \"error\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    verifySpotInsidePolygon(spotCoords) {\r\n      if (\r\n        !google.maps.geometry.poly.containsLocation(\r\n          spotCoords,\r\n          this.userPolygonFinal\r\n        )\r\n      ) {\r\n        //timeout de 1 milisegundo antes de fazer undo para evitar bug de persistent pathline\r\n        setTimeout(function() {\r\n          this.undoLastSpot();\r\n        }, 1);\r\n        eventBus.$emit(\"generateGrowl\", {\r\n          msg: this.$t(\"land.hole_inside_land\"),\r\n          type: \"error\"\r\n        });\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    verifyPathSelfIntersects(path) {\r\n      if (this.pathsQuantity < 4) {\r\n        return true;\r\n      }\r\n\r\n      var coordinates = this.googleMaps2JTS(path);\r\n      var geometryFactory = new jsts.geom.GeometryFactory();\r\n\r\n      if (geometryFactory.createLineString(coordinates).isSimple()) {\r\n        return true;\r\n      }\r\n\r\n      eventBus.$emit(\"generateGrowl\", {\r\n        msg: this.$t(\"land.land_intersect\"),\r\n        type: \"error\"\r\n      });\r\n      return false;\r\n    },\r\n    verifyDistance(e) {\r\n      if (this.pathsQuantity < 1) {\r\n        return true;\r\n      }\r\n\r\n      e.latLng == undefined ? (e.latLng = e) : \"\";\r\n\r\n      var distance = google.maps.geometry.spherical.computeDistanceBetween(\r\n        e.latLng,\r\n        this.getNthSpotCoords(0)\r\n      );\r\n\r\n      if (distance < this.maxDistance) {\r\n        return true;\r\n      }\r\n\r\n      eventBus.$emit(\"generateGrowl\", {\r\n        msg: this.$t(\"land.distance_initial_point\"),\r\n        type: \"error\"\r\n      });\r\n      return false;\r\n    },\r\n    verifyPortugueseTerritory(e) {\r\n      return true;\r\n    },\r\n    correctMarkerPosition(e) {\r\n      this.deleteMarker();\r\n      this.generateMarker(this.getNthSpotCoords(0));\r\n    },\r\n    generateMarker(latLng) {\r\n      this.marker = new google.maps.Marker({\r\n        position: { lat: latLng.lat(), lng: latLng.lng() },\r\n        map: this.map,\r\n        icon: \"https://i.ibb.co/fXJwvnL/map-pointer.png\"\r\n      });\r\n    },\r\n    deleteMarker() {\r\n      this.marker.setMap(null);\r\n    },\r\n    saveLastPath() {\r\n      var pathTempCopy = jQuery.extend(true, {}, this.userPolyline.getPath());\r\n      this.userPolylinePathsArray.push(pathTempCopy);\r\n    },\r\n    getNthSpotCoords(n) {\r\n      var rawCoords = this.userPolyline\r\n        .getPath()\r\n        .getArray()\r\n        [n].toString();\r\n      var spotCoords = new google.maps.LatLng(\r\n        rawCoords.substring(\r\n          rawCoords.lastIndexOf(\"(\") + 1,\r\n          rawCoords.lastIndexOf(\",\")\r\n        ),\r\n        rawCoords.substring(\r\n          rawCoords.lastIndexOf(\" \") + 1,\r\n          rawCoords.lastIndexOf(\")\")\r\n        )\r\n      );\r\n      return spotCoords;\r\n    },\r\n    addSpot(e) {\r\n      this.pathsQuantity++;\r\n\r\n      //adiciona ponto à polyline\r\n      this.userPolyline.getPath().push(e.latLng);\r\n\r\n      this.saveLastPath();\r\n\r\n      if (this.pathsQuantity == 1) {\r\n        this.generateMarker(e.latLng);\r\n      }\r\n    },\r\n    addInnerSpot(e) {\r\n      this.pathsQuantity++;\r\n\r\n      this.saveLastPath();\r\n    },\r\n    setNewSpotPosition() {\r\n      this.pathsQuantity++;\r\n      this.saveLastPath();\r\n    },\r\n    undoLastSpot() {\r\n      if (this.pathsQuantity == 0) {\r\n        return;\r\n      }\r\n\r\n      this.pathsQuantity--;\r\n\r\n      if (this.userPolylinePathsArray.length > 1) {\r\n        var pathTempCopy = jQuery.extend(\r\n          true,\r\n          {},\r\n          this.userPolylinePathsArray[this.userPolylinePathsArray.length - 2]\r\n        );\r\n        this.userPolyline.setPath(pathTempCopy.getArray());\r\n        this.correctMarkerPosition(0);\r\n      } else {\r\n        this.userPolyline.setPath(new google.maps.MVCArray());\r\n        this.deleteMarker();\r\n      }\r\n\r\n      //apaga ultimo path, mas adiciona à lista de possiveis redos\r\n      this.undonePathsArray.push(this.userPolylinePathsArray.pop());\r\n\r\n      this.startPathListeners();\r\n\r\n      this.redoMoveEnability = true;\r\n    },\r\n    redoMove() {\r\n      var _this = this;\r\n      this.pathsQuantity++;\r\n\r\n      var pathTempCopy = jQuery.extend(\r\n        true,\r\n        {},\r\n        _this.undonePathsArray[_this.undonePathsArray.length - 1]\r\n      );\r\n      this.userPolyline.setPath(pathTempCopy.getArray());\r\n      this.correctMarkerPosition(0);\r\n\r\n      this.userPolylinePathsArray.push(this.undonePathsArray.pop());\r\n\r\n      this.startPathListeners();\r\n\r\n      if (this.undonePathsArray.length == 0) {\r\n        this.redoMoveEnability = false;\r\n      }\r\n    },\r\n    setLand() {\r\n      this.landSet = true;\r\n      this.map.setOptions({ draggableCursor: \"\" }); //Set cursor to default\r\n\r\n      this.userPolyline.setMap(null);\r\n      this.marker.setMap(null);\r\n      var pathFinal = jQuery.extend(true, {}, this.userPolyline.getPath());\r\n      this.userPolygonFinal = new google.maps.Polygon({\r\n        path: pathFinal.getArray(),\r\n        strokeColor: \"blue\"\r\n      });\r\n      this.userPolygonFinal.setMap(this.map);\r\n\r\n      this.polygonsPathsArray.push(pathFinal.getArray());\r\n\r\n      this.resetPolyline();\r\n\r\n      this.makeHoleEnability = true;\r\n\r\n      this.finish();\r\n    },\r\n    resetPolyline() {\r\n      this.userPolylinePathsArray = [];\r\n      this.undonePathsArray = [];\r\n      this.pathsQuantity = 0;\r\n    },\r\n    makeHoleInLand() {\r\n      this.makeHoleEnability = false;\r\n      this.userPolygonFinal.setOptions({ fillOpacity: 0 });\r\n\r\n      this.generateUserPolyline();\r\n\r\n      this.startClickListener(this.userPolygonFinal);\r\n      this.startPathListeners();\r\n      this.startFirstVertexListener();\r\n    },\r\n    finishHoleInLand() {\r\n      this.makeHoleEnability = true;\r\n\r\n      this.userPolyline.setMap(null);\r\n      this.marker.setMap(null);\r\n\r\n      var pathHoleFinal = jQuery.extend(true, {}, this.userPolyline.getPath());\r\n      this.polygonsPathsArray.push(pathHoleFinal.getArray());\r\n\r\n      this.userPolygonFinal = new google.maps.Polygon({\r\n        paths: this.polygonsPathsArray,\r\n        strokeColor: \"blue\"\r\n      });\r\n      this.userPolygonFinal.setMap(this.map);\r\n\r\n      this.resetPolyline();\r\n    },\r\n    finish() {\r\n      //Area in square meters\r\n      this.userPolyline.computedArea = google.maps.geometry.spherical.computeArea(\r\n        this.userPolyline.getPath()\r\n      );\r\n\r\n      this.$emit(\"landFinished\", this.userPolyline);\r\n    },\r\n    googleMaps2JTS(path) {\r\n      var coordinates = [];\r\n\r\n      for (var i = 0; i < path.getLength(); i++) {\r\n        var spot = new jsts.geom.Coordinate(\r\n          path.getAt(i).lat(),\r\n          path.getAt(i).lng()\r\n        );\r\n        coordinates.push(spot);\r\n      }\r\n\r\n      return coordinates;\r\n    },\r\n    confirmBack() {\r\n      if (this.pathsQuantity > 0 || this.landSet) {\r\n        this.returnDialog = true;\r\n        return;\r\n      }\r\n\r\n      this.back();\r\n    },\r\n    back() {\r\n      this.$emit(\"back\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#map {\r\n  width: 100%;\r\n  min-height: 500px;\r\n}\r\n\r\n#divWrapperMap {\r\n  position: relative;\r\n  height: 500px;\r\n}\r\n#mapBtns {\r\n  position: absolute;\r\n  top: -7px;\r\n  left: -5px;\r\n  z-index: 99;\r\n  text-align: center;\r\n}\r\n\r\n.map-type-btn {\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 10px;\r\n}\r\n\r\n.geocode-search {\r\n  position: absolute;\r\n  top: 95px;\r\n  right: 12px;\r\n  background-color: white;\r\n  height: 1%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PickAreaMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PickAreaMap.vue?vue&type=script&lang=js&\"","import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    justifySelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n        [`justify-self-${props.justifySelf}`]: props.justifySelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n","import { render, staticRenderFns } from \"./PickAreaMap.vue?vue&type=template&id=50ad08ad&scoped=true&\"\nimport script from \"./PickAreaMap.vue?vue&type=script&lang=js&\"\nexport * from \"./PickAreaMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PickAreaMap.vue?vue&type=style&index=0&id=50ad08ad&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50ad08ad\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VIcon,VSpacer,VTextField,VTooltip})\n","<template>\r\n  <div id=\"addLand\">\r\n    <h4>{{ $t('land.addland') }}</h4>\r\n    <p>{{ $t('land.fillfields') }}</p>\r\n\r\n    <v-card>\r\n      <v-tabs vertical v-model=\"activeTab\">\r\n        <v-tab>\r\n          <v-icon left>mdi-format-list-bulleted</v-icon>\r\n          {{ $t('label.info') }}\r\n        </v-tab>\r\n        <v-tab>\r\n          <v-icon left>mdi-file-check-outline</v-icon>\r\n          {{ $t('label.validation') }}\r\n        </v-tab>\r\n        <v-tab>\r\n          <v-icon left>mdi-map-marker-multiple</v-icon>\r\n          {{ $t('label.map') }}\r\n        </v-tab>\r\n        <p\r\n          v-if=\"pickedCounty\"\r\n          class=\"font-weight-light county-name-font\"\r\n        >{{pickedCounty.countyName}}</p>\r\n        <v-tab :disabled=\"!submitTabEnability\">\r\n          <v-icon left>mdi-send</v-icon>\r\n          {{ $t('button.submit') }}\r\n        </v-tab>\r\n\r\n        <!-- Info tab -->\r\n        <v-tab-item>\r\n          <v-card>\r\n            <v-text-field\r\n              spellcheck=\"false\"\r\n              class=\"sidePadding\"\r\n              maxlength=\"100\"\r\n              v-model=\"name\"\r\n              :label=\"$t('land.landname')\"\r\n            ></v-text-field>\r\n            <v-textarea\r\n              spellcheck=\"false\"\r\n              class=\"sidePadding\"\r\n              maxlength=\"800\"\r\n              auto-grow\r\n              v-model=\"description\"\r\n              :label=\"$t('land.landdescription')\"\r\n            ></v-textarea>\r\n            <v-btn-toggle class=\"sidePadding\" mandatory v-model=\"isPrivate\">\r\n              <v-btn value=\"0\">\r\n                <span class=\"hidden-sm-and-down\">{{ $t('button.public') }}</span>\r\n                <v-icon right>mdi-earth</v-icon>\r\n              </v-btn>\r\n              <v-btn value=\"1\">\r\n                <span class=\"hidden-sm-and-down\">{{ $t('button.private') }}</span>\r\n                <v-icon right>mdi-account-lock-outline</v-icon>\r\n              </v-btn>\r\n            </v-btn-toggle>\r\n            <v-tooltip right>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-icon style=\"margin-top: -20px;\" color=\"grey\" dark v-on=\"on\">mdi-help-circle</v-icon>\r\n              </template>\r\n              <span>{{ $t('land.public_private_help') }}</span>\r\n            </v-tooltip>\r\n            <div style=\"display:flex;max-width: 1160px;\">\r\n              <FileInput\r\n                id=\"fileInputImages\"\r\n                style=\"width: 40%;\"\r\n                @filesChanged=\"imageFilesChanged\"\r\n                :btnLabel=\"$t('button.attach_pictures')\"\r\n                type=\"image\"\r\n                :maxFilesQtty=\"20\"\r\n              />\r\n              <v-carousel id=\"carouselImageFiles\" v-if=\"imageFiles.length > 0\">\r\n                <v-carousel-item\r\n                  style=\"height:300px\"\r\n                  v-for=\"(item,i) in imageFiles\"\r\n                  :key=\"i\"\r\n                  :src=\"item.dataUrl\"\r\n                  reverse-transition=\"fade-transition\"\r\n                  transition=\"fade-transition\"\r\n                ></v-carousel-item>\r\n              </v-carousel>\r\n            </div>\r\n          </v-card>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-card style=\"min-height: 192px;\">\r\n            <p class=\"sidePadding\">{{ $t('land.land_validation_info') }}</p>\r\n            <!-- <p class=\"sidePadding\">{{ $t('land.land_validation_info1') }}</p> -->\r\n            <FileInput\r\n              id=\"fileInputValidation\"\r\n              style=\"width: 40%;\"\r\n              @filesChanged=\"validationFilesChanged\"\r\n              :btnLabel=\"$t('button.attach_files')\"\r\n              type=\"validation\"\r\n              :maxFilesQtty=\"20\"\r\n            />\r\n          </v-card>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <DistrictsMap\r\n            mapHeight=\"635\"\r\n            v-if=\"!pickedCounty\"\r\n            @pickedCountyChanged=\"pickedCountyChanged\"\r\n          />\r\n          <PickAreaMap\r\n            v-if=\"pickedCounty\"\r\n            v-on:back=\"pickedCountyChanged(null)\"\r\n            :pickedCounty=\"pickedCounty\"\r\n            @landFinished=\"landCoordsSet\"\r\n          />\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-card>\r\n            <v-simple-table>\r\n              <template v-slot:default>\r\n                <tbody>\r\n                  <tr>\r\n                    <td class=\"table-headers-font\">{{ $t('label.name') }}</td>\r\n                    <td>{{ name }}</td>\r\n                    <td class=\"table-headers-font\">{{ $t('label.description') }}</td>\r\n                    <td colspan=\"3\">{{description}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"table-headers-font\">{{ $t('label.district') }}</td>\r\n                    <td>{{getDistrictName()}}</td>\r\n                    <td class=\"table-headers-font\">{{ $t('label.county') }}</td>\r\n                    <td>{{getCountyName()}}</td>\r\n                    <td class=\"table-headers-font\">{{ $t('label.area') }}</td>\r\n                    <td>\r\n                      {{ landAreaHa}}ha / {{landAreaKm}} km\r\n                      <sup>2</sup>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </v-simple-table>\r\n            <v-card id=\"mapSubmit\" />\r\n            <!-- Map type button -->\r\n            <v-tooltip left>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  v-on=\"on\"\r\n                  class=\"map-type-btn\"\r\n                  x-large\r\n                  color=\"primary\"\r\n                  fab\r\n                  dark\r\n                  @click=\"changeMapType()\"\r\n                >\r\n                  <v-icon v-show=\"!isMapTypeSatellite\" color=\"#75ce2e\">mdi-earth-box</v-icon>\r\n                  <v-icon v-show=\"isMapTypeSatellite\" color=\"#f9df9a\">mdi-map-marker-path</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>{{ $t('button.change_map_type') }}</span>\r\n            </v-tooltip>\r\n\r\n            <v-tooltip left>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  v-on=\"on\"\r\n                  :disabled=\"!submitTabEnability\"\r\n                  @click=\"submitLand\"\r\n                  id=\"btnSubmitLand\"\r\n                  fab\r\n                  x-large\r\n                >\r\n                  <v-icon>mdi-map-plus</v-icon>\r\n                </v-btn>\r\n              </template>\r\n              <span>{{ $t('button.submit_land') }}</span>\r\n            </v-tooltip>\r\n          </v-card>\r\n        </v-tab-item>\r\n      </v-tabs>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script async defer\r\nsrc=\"https://maps.googleapis.com/maps/api/js?key=*GOOGLE_API_KEY*&libraries=drawing\">\r\n</script>\r\n<script>\r\nimport { eventBus } from \"../main\";\r\nimport { mapActions } from \"vuex\";\r\nimport DistrictsMap from \"../components/DistrictsMap\";\r\nimport PickAreaMap from \"../components/PickAreaMap\";\r\nimport FileInput from \"../components/FileInput\";\r\nexport default {\r\n  components: {\r\n    DistrictsMap,\r\n    PickAreaMap,\r\n    FileInput\r\n  },\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      description: \"\",\r\n      isPrivate: \"0\",\r\n      pickedCounty: null,\r\n      land: null,\r\n      centerCoords: null,\r\n      landArea: null,\r\n      landAreaKm: null, //Land area in square km\r\n      landAreaHa: null, //Land area in hectares\r\n      countyName: null,\r\n      activeTab: 0,\r\n      map: null,\r\n      imageFiles: [],\r\n      validationFiles: []\r\n    };\r\n  },\r\n  watch: {\r\n    activeTab(newVal) {\r\n      if (newVal == 3) {\r\n        var _this = this;\r\n        //Generate map after one second (so the component can render)\r\n        setTimeout(function() {\r\n          _this.generateSubmitMap(_this.centerCoords);\r\n          _this.generateNewPolygon();\r\n        }, 500);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    submitTabEnability() {\r\n      //Submit enabled if all mandatory data is filled\r\n      return this.name && this.land;\r\n    },\r\n    isMapTypeSatellite() {\r\n      if (this.map && this.map.getMapTypeId()) {\r\n        return \"satellite\" == this.map.getMapTypeId();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\"addland\", \"addfile\", \"addvalidation\"]),\r\n    generateSubmitMap(centerCoords) {\r\n      var mapDiv = document.getElementById(\"mapSubmit\");\r\n\r\n      var options = require(\"../properties\").googleMapOptions;\r\n      options.zoom = 17;\r\n      options.center = {\r\n        lat: parseFloat(centerCoords.split(\", \")[0]),\r\n        lng: parseFloat(centerCoords.split(\", \")[1])\r\n      };\r\n\r\n      this.map = new google.maps.Map(mapDiv, options);\r\n    },\r\n    changeMapType() {\r\n      if (this.isMapTypeSatellite) {\r\n        this.map.setMapTypeId(\"roadmap\");\r\n      } else {\r\n        this.map.setMapTypeId(\"satellite\");\r\n      }\r\n    },\r\n    generateNewPolygon() {\r\n      var bluePolygonColor = require(\"../properties\").bluePolygonColor;\r\n      var polygonOptions = {\r\n        path: this.land.getPath(),\r\n        strokeColor: bluePolygonColor,\r\n        fillColor: bluePolygonColor\r\n      };\r\n      var polygon = new google.maps.Polygon(polygonOptions);\r\n      polygon.setMap(this.map);\r\n    },\r\n    pickedCountyChanged(county) {\r\n      this.pickedCounty = county;\r\n\r\n      //If county is null set land coords to null\r\n      if (!county) {\r\n        this.land = null;\r\n      }\r\n    },\r\n    landCoordsSet(polyline) {\r\n      this.land = polyline;\r\n      var landCoords = this.land\r\n        .getPath()\r\n        .getArray()\r\n        .toString();\r\n      this.centerCoords = landCoords.substring(\r\n        //Saving center coords as the land first coordinate\r\n        landCoords.indexOf(\"(\") + 1,\r\n        landCoords.indexOf(\")\")\r\n      );\r\n      this.landArea = polyline.computedArea;\r\n      this.landAreaKm = Math.trunc(polyline.computedArea) / 1000000;\r\n      this.landAreaHa = Math.trunc(polyline.computedArea) / 10000;\r\n\r\n      //If all data is filled change to submit tab\r\n      if (this.name.length >= 3) {\r\n        this.activeTab = 3;\r\n      } else {\r\n        this.activeTab = 0;\r\n      }\r\n    },\r\n    getDistrictName() {\r\n      var geojsonDistricts = require(\"../properties\").geojsonDistricts;\r\n      for (let i = 0; i < geojsonDistricts.features.length; i++) {\r\n        var district = geojsonDistricts.features[i];\r\n        if (district.properties.id == this.pickedCounty.districtCode) {\r\n          return district.properties.name;\r\n        }\r\n      }\r\n    },\r\n    getCountyName() {\r\n      var countysCoords = require(\"../properties\").countysCoords;\r\n      for (let i = 0; i < countysCoords.length; i++) {\r\n        var district = countysCoords[i];\r\n        //Get district\r\n        if (district.properties.districtID == this.pickedCounty.districtCode) {\r\n          //Get county\r\n          for (let j = 0; j < district.features.length; j++) {\r\n            var county = district.features[j];\r\n            if (county.properties.code == this.pickedCounty.countyCode) {\r\n              return county.properties.name;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    submitLand() {\r\n      let land = {\r\n        name: this.name,\r\n        description: this.description,\r\n        coords: this.land\r\n          .getPath()\r\n          .getArray()\r\n          .toString(),\r\n        districtCode: this.pickedCounty.districtCode,\r\n        countyCode: this.pickedCounty.countyCode,\r\n        area: this.landArea,\r\n        centerCoords: this.centerCoords,\r\n        isPublic: this.isPrivate != \"1\",\r\n        requiringValidation: this.validationFiles.length > 0\r\n      };\r\n\r\n      var _this = this;\r\n      //Add land\r\n      this.addland(land).then(res => {\r\n        //Land is saved\r\n        if (res.data.success) {\r\n          eventBus.$emit(\"generateGrowl\", {\r\n            msg: this.$t(res.data.msg),\r\n            type: \"success\"\r\n          });\r\n          _this.saveFiles(res.data.id, land.name);\r\n        } else {\r\n          eventBus.$emit(\"generateGrowl\", {\r\n            msg: this.$t(res.data.msg),\r\n            type: \"error\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    saveFiles(landId, landName) {\r\n      //Add files to land\r\n      //Join image files and validation files\r\n      var allFiles = this.imageFiles.concat(this.validationFiles);\r\n      var _this = this;\r\n      if (allFiles.length > 0) {\r\n        allFiles.forEach(function(file, i) {\r\n          //Save land info in the files\r\n          file.relatedId = landId;\r\n          file.relatedTable = \"land\";\r\n          //Save file\r\n          _this.addfile(file).then(res => {\r\n            //When last file is saved create validation record if there are validation files, else redirect to profile page\r\n            if (res.data.success && allFiles.length - 1 == i) {\r\n              if (_this.validationFiles.length > 0) {\r\n                _this.openValidationProcess(landId, landName);\r\n              } else {\r\n                _this.$router.push(\"/\" + _this.$i18n.locale + \"/profile\");\r\n              }\r\n            }\r\n          });\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      //If there are no files to save, redirect to profile page\r\n      _this.$router.push(\"/\" + _this.$i18n.locale + \"/profile\");\r\n    },\r\n    openValidationProcess(landId, landName) {\r\n      let validation = {\r\n        state: \"initialized\",\r\n        landId: landId,\r\n        landName: landName,\r\n        countyCode: this.pickedCounty.countyCode,\r\n        districtCode: this.pickedCounty.districtCode\r\n      };\r\n\r\n      var _this = this;\r\n      //Add validation\r\n      this.addvalidation(validation).then(res => {\r\n        //Validation is saved\r\n        if (res.data.success) {\r\n          _this.$router.push(\"/\" + _this.$i18n.locale + \"/profile\");\r\n        }\r\n      });\r\n    },\r\n    imageFilesChanged(images) {\r\n      this.imageFiles = images;\r\n    },\r\n    validationFilesChanged(files) {\r\n      this.validationFiles = files;\r\n    }\r\n  }\r\n};\r\n</script >\r\n\r\n<style scoped>\r\n.county-name-font {\r\n  text-align: center;\r\n  font-size: xx-small;\r\n  margin-bottom: 0px;\r\n  margin-top: -13px;\r\n  color: lightgrey;\r\n}\r\n\r\n.table-headers-font {\r\n  font-size: small;\r\n  font-weight: bold;\r\n}\r\n\r\n#mapSubmit {\r\n  width: 100%;\r\n  min-height: 400px;\r\n}\r\n\r\n#btnSubmitLand {\r\n  float: right;\r\n  margin-top: -9%;\r\n  right: 10px;\r\n}\r\n\r\n#carouselImageFiles {\r\n  max-width: 60%;\r\n}\r\n\r\n.sidePadding {\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n}\r\n\r\n.map-type-btn {\r\n  position: absolute;\r\n  top: 105px;\r\n  right: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddLand.vue?vue&type=template&id=6ea48b36&scoped=true&\"\nimport script from \"./AddLand.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddLand.vue?vue&type=style&index=0&id=6ea48b36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ea48b36\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCarousel } from 'vuetify/lib/components/VCarousel';\nimport { VCarouselItem } from 'vuetify/lib/components/VCarousel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VBtnToggle,VCard,VCarousel,VCarouselItem,VIcon,VSimpleTable,VTab,VTabItem,VTabs,VTextField,VTextarea,VTooltip})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PickAreaMap.vue?vue&type=style&index=0&id=50ad08ad&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PickAreaMap.vue?vue&type=style&index=0&id=50ad08ad&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLand.vue?vue&type=style&index=0&id=6ea48b36&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLand.vue?vue&type=style&index=0&id=6ea48b36&scoped=true&lang=css&\"","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onFilesChange}}),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.callFileInput}},[(_vm.type=='image')?_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-image\")]):_vm._e(),(_vm.type!='image')?_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-paperclip\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.btnLabel)+\" \")],1),_c('v-data-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.files.length > 0),expression:\"files.length > 0\"}],staticClass:\"elevation-1\",attrs:{\"no-data-text\":_vm.$t('label.nodata'),\"hide-default-footer\":\"\",\"id\":\"tableFiles\",\"dense\":\"\",\"hide-default-header\":\"\",\"headers\":_vm.tableHeaders,\"items\":_vm.files,\"item-key\":\"name\"},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticStyle:{\"display\":\"initial\"}},[_c('td',{staticClass:\"td-style\",attrs:{\"id\":\"tdItemRow\"}},[_vm._v(_vm._s(item.name))]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"tdRowIcon deleteFileIcon pointerCursor\",on:{\"click\":function($event){return _vm.deleteFile(item)}}},on),[_vm._v(\"delete\")])]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('label.delete_file')))])]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [(_vm.type=='image')?_c('v-icon',_vm._g({directives:[{name:\"show\",rawName:\"v-show\",value:(item.isPublic),expression:\"item.isPublic\"}],staticClass:\"tdRowIcon fileVisibilityIcon pointerCursor\",on:{\"click\":function($event){item.isPublic = false}}},on),[_vm._v(\"mdi-earth\")]):_vm._e()]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('label.image_visibility')))])]),_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [(_vm.type=='image')?_c('v-icon',_vm._g({directives:[{name:\"show\",rawName:\"v-show\",value:(!item.isPublic),expression:\"!item.isPublic\"}],staticClass:\"tdRowIcon fileVisibilityIcon pointerCursor\",on:{\"click\":function($event){item.isPublic = true}}},on),[_vm._v(\"mdi-lock\")]):_vm._e()]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('label.image_visibility')))])])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <input type=\"file\" ref=\"fileInput\" @change=\"onFilesChange\" style=\"display:none\" multiple />\r\n    <v-btn class=\"ma-2\" color=\"primary\" @click=\"callFileInput\">\r\n      <v-icon v-if=\"type=='image'\" left>mdi-image</v-icon>\r\n      <v-icon v-if=\"type!='image'\" left>mdi-paperclip</v-icon>\r\n      {{btnLabel}}\r\n    </v-btn>\r\n    <v-data-table\r\n      :no-data-text=\"$t('label.nodata')\"\r\n      hide-default-footer\r\n      id=\"tableFiles\"\r\n      v-show=\"files.length > 0\"\r\n      dense\r\n      hide-default-header\r\n      :headers=\"tableHeaders\"\r\n      :items=\"files\"\r\n      item-key=\"name\"\r\n      class=\"elevation-1\"\r\n    >\r\n      <template v-slot:item.name=\"{ item }\">\r\n        <div style=\"display:initial\">\r\n          <td class=\"td-style\" id=\"tdItemRow\">{{item.name}}</td>\r\n\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-icon\r\n                @click=\"deleteFile(item)\"\r\n                v-on=\"on\"\r\n                class=\"tdRowIcon deleteFileIcon pointerCursor\"\r\n              >delete</v-icon>\r\n            </template>\r\n            <span>{{ $t('label.delete_file') }}</span>\r\n          </v-tooltip>\r\n\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-icon\r\n                v-on=\"on\"\r\n                @click=\"item.isPublic = false\"\r\n                v-show=\"item.isPublic\"\r\n                v-if=\"type=='image'\"\r\n                class=\"tdRowIcon fileVisibilityIcon pointerCursor\"\r\n              >mdi-earth</v-icon>\r\n            </template>\r\n            <span>{{ $t('label.image_visibility') }}</span>\r\n          </v-tooltip>\r\n\r\n          <v-tooltip right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-icon\r\n                v-on=\"on\"\r\n                @click=\"item.isPublic = true\"\r\n                v-show=\"!item.isPublic\"\r\n                v-if=\"type=='image'\"\r\n                class=\"tdRowIcon fileVisibilityIcon pointerCursor\"\r\n              >mdi-lock</v-icon>\r\n            </template>\r\n            <span>{{ $t('label.image_visibility') }}</span>\r\n          </v-tooltip>\r\n        </div>\r\n      </template>\r\n    </v-data-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"btnLabel\", \"type\", \"maxFilesQtty\", \"initialFiles\"],\r\n  data() {\r\n    return {\r\n      pagination: {\r\n        rowsPerPage: 15\r\n      },\r\n      files: [],\r\n      tableHeaders: [\r\n        {\r\n          text: \"\",\r\n          align: \"left\",\r\n          value: \"name\",\r\n          sortable: false\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  watch: {\r\n    files(newVal) {\r\n      this.$emit(\"filesChanged\", newVal);\r\n    },\r\n    initialFiles(newVal) {\r\n      this.files = newVal;\r\n    }\r\n  },\r\n  computed: {\r\n    imageExts() {\r\n      return require(\"../properties\").imageFileExtensions;\r\n    },\r\n    validationExts() {\r\n      return require(\"../properties\").validationFileExtensions;\r\n    }\r\n  },\r\n  methods: {\r\n    callFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    readFile(file) {\r\n      var fileReader = new FileReader();\r\n      fileReader.file = file;\r\n\r\n      //Get max file size\r\n      var maxFileSize = require(\"../properties\").maxFileSize;\r\n\r\n      var _this = this;\r\n      fileReader.addEventListener(\"load\", function(event) {\r\n        var fileToRead = event.currentTarget.file;\r\n        var fileObj = {\r\n          name: fileToRead.name,\r\n          type: _this.type,\r\n          contentType: fileToRead.type,\r\n          dataUrl: fileReader.result,\r\n          isPublic: _this.type == \"image\"\r\n        };\r\n\r\n        //Check if array already contains a file with the same name\r\n        for (let i = 0; i < _this.files.length; i++) {\r\n          var file = _this.files[i];\r\n          if (file.name == fileObj.name) return;\r\n        }\r\n\r\n        //Check if max files quantity has been met\r\n        var fileExtension = fileObj.name\r\n          .toLowerCase()\r\n          .split(\".\")\r\n          .pop();\r\n        if (\r\n          _this.files.length < _this.maxFilesQtty &&\r\n          fileToRead.size < maxFileSize &&\r\n          //Check file extension\r\n          (!_this.type ||\r\n            (_this.type == \"image\" &&\r\n              _this.imageExts.includes(fileExtension)) ||\r\n            (_this.type == \"validation\" &&\r\n              _this.validationExts.includes(fileExtension)))\r\n        ) {\r\n          _this.files.push(fileObj);\r\n        }\r\n      });\r\n      fileReader.readAsDataURL(file);\r\n    },\r\n    deleteFile(item) {\r\n      this.files.splice(this.files.indexOf(item), 1);\r\n    },\r\n    onFilesChange(event) {\r\n      var files = event.target.files;\r\n\r\n      files.forEach(file => {\r\n        this.readFile(file);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#tdItemRow {\r\n  padding: 0;\r\n  font-size: x-small;\r\n  border: 0;\r\n  height: 17px;\r\n}\r\n\r\n.tdRowIcon {\r\n  font-size: 15px;\r\n  margin-left: auto;\r\n  float: right;\r\n  margin-top: 5px;\r\n}\r\n\r\n.deleteFileIcon:hover {\r\n  color: #ff6666;\r\n}\r\n\r\n.fileVisibilityIcon:hover {\r\n  color: #66a3ff;\r\n}\r\n\r\n.pointerCursor {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileInput.vue?vue&type=template&id=764443ca&scoped=true&\"\nimport script from \"./FileInput.vue?vue&type=script&lang=js&\"\nexport * from \"./FileInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileInput.vue?vue&type=style&index=0&id=764443ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"764443ca\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VDataTable,VIcon,VTooltip})\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=style&index=0&id=764443ca&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=style&index=0&id=764443ca&scoped=true&lang=css&\"","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('lastIndexOf');\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = (NEGATIVE_ZERO || SLOPPY_METHOD) ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}