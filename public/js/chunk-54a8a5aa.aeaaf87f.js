(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a8a5aa"],{"0c18":function(t,e,i){},"11cf":function(t,e,i){},"6ca7":function(t,e,i){},7340:function(t,e,i){"use strict";var n=i("11cf"),r=i.n(n);r.a},7797:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-tabs",{attrs:{vertical:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("v-tab",[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-icon",t._g({attrs:{left:""}},n),[t._v("mdi-map")])]}}])},[i("span",[t._v(t._s(t.$t("button.lands")))])])],1),t.isCurrentUserAdminOrManager?i("v-tab",[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-icon",t._g({attrs:{left:""}},n),[t._v("mdi-account-multiple")])]}}],null,!1,3457138210)},[i("span",[t._v(t._s(t.$t("button.users")))])])],1):t._e(),i("v-tab-item",[i("div",{staticStyle:{display:"flex"}},[i("div",[i("DistrictsMap",{attrs:{id:"districtMap",mapHeight:"350",zoomProp:6,centerCoords:t.districtsMapCenterCoords},on:{pickedDistrictChanged:t.pickedDistrictChanged,pickedCountyChanged:t.pickedCountyChanged,districtsMapBack:t.resetLandsTable}}),i("v-checkbox",{staticStyle:{"margin-bottom":"-12px"},attrs:{label:t.$t("label.hide_user_lands")},model:{value:t.hideCurrentUserLands,callback:function(e){t.hideCurrentUserLands=e},expression:"hideCurrentUserLands"}}),i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("div",t._g({staticStyle:{width:"45%"}},n),[i("v-btn-toggle",{attrs:{dense:""},model:{value:t.btnValidatedVisibility,callback:function(e){t.btnValidatedVisibility=e},expression:"btnValidatedVisibility"}},[i("v-btn",[i("v-icon",[t._v("mdi-shield-off-outline")])],1),i("v-btn",[i("v-icon",[t._v("mdi-shield-check")])],1)],1)],1)]}}])},[i("span",[t._v(t._s(t.$t("button.filter_validated")))])])],1),i("div",{staticStyle:{width:"100%"}},[i("v-text-field",{staticStyle:{"padding-left":"5px"},attrs:{spellcheck:"false","prepend-icon":"search",label:t.$t("label.land_search"),"single-line":"","hide-details":"",clearable:""},model:{value:t.landSearchWord,callback:function(e){t.landSearchWord=e},expression:"landSearchWord"}}),t.lands?i("v-data-table",{key:t.lands.length,staticStyle:{display:"inline-block"},attrs:{search:t.landSearchWord,"no-data-text":t.$t("label.nodata"),id:"tableLands",headers:t.landsTableHeaders,items:t.lands,"custom-sort":t.customSort,"footer-props":{itemsPerPageText:t.$t("label.rows_per_page"),itemsPerPageAllText:t.$t("label.rows_per_page_all")}},scopedSlots:t._u([{key:"item.createDate",fn:function(e){var n=e.item;return[i("td",{staticClass:"td-style"},[t._v(t._s(t.getLandCreateDate(n)))])]}},{key:"item.validated",fn:function(e){var n=e.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n.isValidated?i("v-icon",t._g({},r),[t._v("mdi-shield-check")]):t._e()]}}],null,!0)},[i("span",[t._v(t._s(t.$t("label.validated_land")))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n.isValidated?t._e():i("v-icon",t._g({},r),[t._v("mdi-shield-off-outline")])]}}],null,!0)},[i("span",[t._v(t._s(t.$t("label.non_validated_land")))])])]}},t.isCurrentUserAdminOrManager?{key:"item.visibility",fn:function(e){var n=e.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n.isPublic?i("v-icon",t._g({},r),[t._v("mdi-earth")]):t._e()]}}],null,!0)},[i("span",[t._v(t._s(t.$t("label.public_land")))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n.isPublic?t._e():i("v-icon",t._g({},r),[t._v("mdi-account-lock-outline")])]}}],null,!0)},[i("span",[t._v(t._s(t.$t("label.private_land")))])])]}}:null,{key:"item.action",fn:function(e){var n=e.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({attrs:{color:"primary",fab:"","x-small":"",dark:"",outlined:""},on:{click:function(e){return t.openLandPreview(n)}}},r),[i("v-icon",[t._v("mdi-file-document-box-search-outline")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("button.open_land_preview")))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({attrs:{color:"primary",fab:"","x-small":"",dark:"",outlined:""},on:{click:function(e){return t.openLand(n)}}},r),[i("v-icon",[t._v("mdi-map-search-outline")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("button.open_land")))])])]}}],null,!0)}):t._e()],1)])]),i("v-tab-item",[i("v-text-field",{staticStyle:{"padding-left":"5px"},attrs:{spellcheck:"false","prepend-icon":"search",label:t.$t("label.user_search"),"single-line":"","hide-details":"",clearable:""},model:{value:t.userSearchWord,callback:function(e){t.userSearchWord=e},expression:"userSearchWord"}}),t.users?i("v-data-table",{attrs:{"no-data-text":t.$t("label.nodata"),id:"tableUsers",headers:t.usersTableHeaders,items:t.users,search:t.userSearchWord,"footer-props":{itemsPerPageText:t.$t("label.rows_per_page"),itemsPerPageAllText:t.$t("label.rows_per_page_all")}},scopedSlots:t._u([{key:"item.icon",fn:function(e){var n=e.item;return[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("td",t._g({attrs:{id:"tdIcon"}},r),[i("div",{staticClass:"div-icon",class:{divIconColor:t.isUserCurrent(n),pointerCursor:t.isCurrentUserAdmin&&!t.isUserCurrent(n)},on:{click:function(e){return t.setUserCategory(n)}}},[i("v-icon",{attrs:{color:t.getUserIconColor(n)}},[t._v("mdi-account")]),i("p",{staticClass:"zone-indicator"},[t._v(t._s(t.getUserZoneIndicator(n)))])],1)])]}}],null,!0)},[i("span",[t._v(t._s(t.getUserIconTooltip(n)))])])]}},{key:"item.landsQuantity",fn:function(e){var n=e.item;return[i("td",{staticClass:"td-style"},[t._v(t._s(t.getLandsQuantityByUser(n)))])]}},{key:"item.action",fn:function(e){var n=e.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[i("v-btn",t._g({attrs:{color:"primary",fab:"","x-small":"",dark:"",outlined:"",disabled:0==t.getLandsQuantityByUser(n)},on:{click:function(e){return t.filterLandsByUser(n)}}},r),[i("v-icon",[t._v("mdi-map-outline")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("button.user_lands_list")))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[t.isCurrentUserAdmin?i("v-btn",t._g({attrs:{color:"error",fab:"","x-small":"",dark:"",outlined:"",disabled:t.isUserCurrent(n)},on:{click:function(e){return t.deleteAccountClick(n)}}},r),[i("v-icon",[t._v("mdi-account-remove")])],1):t._e()]}}],null,!0)},[i("span",[t._v(t._s(t.$t("button.deleteaccount")))])])]}}],null,!1,258230787)}):t._e()],1)],1),i("v-dialog",{attrs:{"max-width":"565"},model:{value:t.setUserCategoryDialogVisibility,callback:function(e){t.setUserCategoryDialogVisibility=e},expression:"setUserCategoryDialogVisibility"}},[t.setUserCategoryDialogVisibility?i("SetUserCategory",{attrs:{user:t.userCategoryEdit},on:{close:t.closeUserCategoryDialog}}):t._e()],1),i("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.landPreviewDialogVisibility,callback:function(e){t.landPreviewDialogVisibility=e},expression:"landPreviewDialogVisibility"}},[i("v-card",[t.selectedLand?i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("tbody",[i("tr",[i("td",{staticClass:"table-headers-font"},[t._v(t._s(t.$t("label.name")))]),i("td",[t._v(t._s(t.selectedLand.name))]),i("td",{staticClass:"table-headers-font"},[t._v(t._s(t.$t("label.description")))]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.selectedLand.description))])]),i("tr",[i("td",{staticClass:"table-headers-font"},[t._v(t._s(t.$t("label.district")))]),i("td",[t._v(t._s(t.getDistrictName()))]),i("td",{staticClass:"table-headers-font"},[t._v(t._s(t.$t("label.county")))]),i("td",[t._v(t._s(t.getCountyName()))]),i("td",{staticClass:"table-headers-font"},[t._v(t._s(t.$t("label.area")))]),i("td",[t._v(" "+t._s(t.getLandAreaHa())+"ha / "+t._s(t.getLandAreaKm())+" km "),i("sup",[t._v("2")])])])])]},proxy:!0}],null,!1,2628653390)}):t._e(),i("div",{staticStyle:{width:"auto",height:"250px",overflow:"hidden"}},[i("v-card",{attrs:{id:"mapLandPreview"}}),i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"map-type-btn",attrs:{"x-large":"",color:"primary",fab:"",dark:""},on:{click:function(e){return t.changeMapType()}}},n),[i("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isMapTypeSatellite,expression:"!isMapTypeSatellite"}],attrs:{color:"#75ce2e"}},[t._v("mdi-earth-box")]),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:t.isMapTypeSatellite,expression:"isMapTypeSatellite"}],attrs:{color:"#f9df9a"}},[t._v("mdi-map-marker-path")])],1)]}}])},[i("span",[t._v(t._s(t.$t("button.change_map_type")))])]),i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({staticClass:"open-land-dialog-btn",attrs:{color:"primary",fab:""},on:{click:function(e){return t.openLand(t.selectedLand)}}},n),[i("v-icon",[t._v("mdi-map-search-outline")])],1)]}}])},[i("span",[t._v(t._s(t.$t("button.open_land")))])])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"600"},model:{value:t.deleteAccountDialogVisibility,callback:function(e){t.deleteAccountDialogVisibility=e},expression:"deleteAccountDialogVisibility"}},[t.userToDelete?i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("label.confirm_deleteaccount")))]),i("v-card-text",[t._v(t._s(t.$t("label.sub_confirm_deleteaccount")))]),i("v-text-field",{staticStyle:{"margin-right":"25px","margin-left":"25px"},attrs:{spellcheck:"false",placeholder:t.userToDelete.email,solo:""},model:{value:t.deleteAccountEmailInput,callback:function(e){t.deleteAccountEmailInput=e},expression:"deleteAccountEmailInput"}}),i("v-checkbox",{staticClass:"checkbox-delete-user-lands",attrs:{label:t.$t("profile.delete_user_lands")},model:{value:t.deleteUserLands,callback:function(e){t.deleteUserLands=e},expression:"deleteUserLands"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteAccountDialogVisibility=!1}}},[t._v(t._s(t.$t("button.cancel")))]),i("v-btn",{attrs:{color:"error",disabled:t.deleteAccountEmailInput!=t.userToDelete.email},on:{click:function(e){return t.deleteAccount()}}},[t._v(t._s(t.$t("button.delete")))])],1)],1):t._e()],1)],1)},r=[],a=(i("a4d3"),i("99af"),i("4de4"),i("7db0"),i("4160"),i("c975"),i("d81d"),i("4e827"),i("a434"),i("b0c0"),i("b65f"),i("e439"),i("dbb4"),i("b64b"),i("acd8"),i("ac1f"),i("1276"),i("159b"),i("2fa7")),s=i("2f62"),o=i("bc7e"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[t.user?i("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("category.set_category1"))+" "+t._s(t.user.name)+" "+t._s(t.$t("category.set_category2")))]):t._e(),i("v-card-text",[t._v(t._s(t.$t("category.please_set_user_role")))]),i("div",{staticStyle:{"text-align":"center"}},[i("v-btn-toggle",{attrs:{mandatory:"",id:"btnToggleOptions"},model:{value:t.radioOption,callback:function(e){t.radioOption=e},expression:"radioOption"}},[i("v-btn",{attrs:{value:"0"}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.$t("category.pick_managing_zone")))]),i("v-icon",{attrs:{right:""}},[t._v("mdi-account-star")])],1),i("v-btn",{attrs:{value:"1"}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.$t("category.remove_managing_role")))]),i("v-icon",{attrs:{right:""}},[t._v("mdi-account-off-outline")])],1)],1)],1),0==t.radioOption?i("div",{staticStyle:{display:"flex"}},[i("DistrictsMap",{staticStyle:{width:"310px"},attrs:{id:"districtMapUserCat",mapHeight:"350",zoomProp:6,centerCoords:t.districtsMapCenterCoords},on:{pickedDistrictChanged:t.pickedDistrictChanged,pickedCountyChanged:t.pickedCountyChanged}}),i("div",{staticStyle:{width:"41%","text-align":"center"}},[i("div",{staticStyle:{display:"-webkit-inline-box","margin-top":"45%"}},[i("v-icon",{staticStyle:{"font-size":"100px","margin-left":"45px"},attrs:{color:t.indicatorColor}},[t._v("mdi-account")]),i("p",[t._v(t._s(t.zoneIndicator))])],1),i("v-alert",{attrs:{dense:"",type:"info",id:"zoneAlert"}},[t._v(" "+t._s(t.zoneType)+" "),i("br"),i("strong",[t._v(t._s(t.zone))])])],1)],1):t._e(),1==t.radioOption?i("div",[i("v-card-text",{staticStyle:{"padding-left":"27px"}},[t._v(t._s(t.$t("category.become_regular_user")))])],1):t._e(),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:t.closeThis}},[t._v("Cancel")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.closeThis(),t.applyUserCategory()}}},[t._v(t._s(t.$t("button.apply")))])],1)],1)},c=[],d=i("56d7");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={components:{DistrictsMap:o["a"]},props:["user"],data:function(){return{districtsMapCenterCoords:[39.41667,-9.13333],zoneIndicator:null,indicatorColor:"green",radioOption:"0",zoneType:this.$t("category.admin_role"),zone:"",pickedCategory:"admin",pickedDistrict:null,pickedCounty:null}},methods:h({},Object(s["b"])(["setUserCategory"]),{pickedDistrictChanged:function(t){t?(this.zoneIndicator=t.districtCode,this.indicatorColor="blue",this.zoneType=this.$t("category.managed_district"),this.zone=t.districtName,this.pickedCategory="manager",this.pickedDistrict=t.districtCode,this.pickedCounty=null):(this.zoneIndicator=null,this.indicatorColor="green",this.zoneType=this.$t("category.admin_role"),this.zone="",this.pickedCategory="admin",this.pickedDistrict=null,this.pickedCounty=null)},pickedCountyChanged:function(t){this.zoneIndicator=t.countyCode,this.indicatorColor="purple",this.zoneType=this.$t("category.managed_county"),this.zone=t.countyName,this.pickedCategory="manager",this.pickedDistrict=null,this.pickedCounty=t.countyCode},closeThis:function(){this.$emit("close")},applyUserCategory:function(){var t=this,e={};e=0==this.radioOption?{userId:this.user._id,category:this.pickedCategory,managingDistrict:this.pickedDistrict,managingCounty:this.pickedCounty}:{userId:this.user._id,category:"regular",managingDistrict:null,managingCounty:null},this.setUserCategory(e).then((function(i){i.data.success&&(t.user.category=e.category,t.user.managingDistrict=e.managingDistrict,t.user.managingCounty=e.managingCounty,d["eventBus"].$emit("generateGrowl",{msg:i.data.msg,type:"success"}))}))}})},f=p,v=(i("e970"),i("2877")),g=i("6544"),b=i.n(g),m=(i("caad"),i("0c18"),i("10d2")),y=i("afdd"),_=i("9d26"),C=i("f2e7"),k=i("7560"),x=i("2b0e"),O=x["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),D=i("58df"),V=i("d9bd");function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var S=Object(D["a"])(m["a"],C["a"],O).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(a["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(y["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(_["a"],{props:{color:e}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(_["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=L({},m["a"].options.computed.classes.call(this),{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||k["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(V["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),w=i("8336"),T=i("a609"),I=i("b0af"),P=i("99d9"),A=i("132d"),j=i("2fa4"),B=Object(v["a"])(f,l,c,!1,null,"9da3ca16",null),M=B.exports;function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}b()(B,{VAlert:S,VBtn:w["a"],VBtnToggle:T["a"],VCard:I["a"],VCardActions:P["a"],VCardText:P["c"],VCardTitle:P["d"],VIcon:A["a"],VSpacer:j["a"]});var N={components:{DistrictsMap:o["a"],SetUserCategory:M},data:function(){return{activeTab:0,btnValidatedVisibility:null,landPreviewDialogVisibility:!1,selectedLand:null,map:null,setUserCategoryDialogVisibility:!1,userCategoryEdit:null,currentUser:null,districtsMapCenterCoords:[39.41667,-9.13333],totalLands:null,lands:[],landsAddedByCurrentUser:[],landsValidated:[],landsNotValidated:[],users:null,hideCurrentUserLands:!1,landSearchWord:"",userSearchWord:"",deleteAccountDialogVisibility:!1,deleteAccountEmailInput:"",deleteUserLands:!1,userToDelete:null}},watch:{btnValidatedVisibility:function(){this.filterLandsByInterfaceFilters()},hideCurrentUserLands:function(){this.filterLandsByInterfaceFilters()},landPreviewDialogVisibility:function(t){t||(this.selectedLand=null)},currentUser:function(){this.getLands(),this.getUsers(),this.isCurrentUserAdminOrManager||$("div.v-tabs-bar__content").remove()},totalLands:function(){var t=this;this.lands=this.totalLands,this.landsAddedByCurrentUser=this.lands.filter((function(e){return e.userId==t.currentUser._id})),this.landsValidated=this.lands.filter((function(t){return t.isValidated})),this.landsNotValidated=this.lands.filter((function(t){return!t.isValidated})),this.resetLandsTable(),this.getDistrictNames(),this.getCountysNames()}},computed:{isCurrentUserAdminOrManager:function(){return!!this.currentUser&&("admin"==this.currentUser.category||"manager"==this.currentUser.category)},isCurrentUserAdmin:function(){return!!this.currentUser&&"admin"==this.currentUser.category},landsTableHeaders:function(){return[{text:this.$t("label.name"),align:"left",value:"name"},{text:this.$t("label.district"),value:"districtName"},{text:this.$t("label.county"),value:"countyName"},{text:this.$t("label.date"),value:"createDate"},{text:"",value:"validated",sortable:!1},{text:"",value:"visibility",sortable:!1},{text:"",value:"action",sortable:!1}]},usersTableHeaders:function(){return[{text:this.$t("label.category"),value:"icon",sortable:!1,width:"1px"},{text:this.$t("label.name"),align:"left",value:"name"},{text:this.$t("label.email"),value:"email"},{text:this.$t("land.lands_quantity"),value:"landsQuantity"},{text:"",value:"action",sortable:!1}]},isMapTypeSatellite:function(){if(this.map&&this.map.getMapTypeId())return"satellite"==this.map.getMapTypeId()}},mounted:function(){this.getCurrentUser()},methods:z({},Object(s["b"])(["getAllLands","getAllUsers","getProfile","removeUserAccount"]),{getCurrentUser:function(){var t=this;this.getProfile().then((function(e){e.data.success&&(t.currentUser=e.data.user)}))},resetLandsTable:function(){this.lands=this.filterLandsByCategory(),this.filterLandsByInterfaceFilters()},filterLandsByInterfaceFilters:function(){var t=this;this.lands=[],null!=this.btnValidatedVisibility&&0!=this.btnValidatedVisibility||(this.lands=this.lands.concat(this.landsNotValidated)),null!=this.btnValidatedVisibility&&1!=this.btnValidatedVisibility||(this.lands=this.lands.concat(this.landsValidated)),this.hideCurrentUserLands&&(this.lands=this.lands.filter((function(e){return e.userId!=t.currentUser._id})))},openLand:function(t){this.$router.landToOpen=t,this.$router.push("/"+this.$i18n.locale)},openLandPreview:function(t){this.landPreviewDialogVisibility=!0,this.selectedLand=t;var e=this;setTimeout((function(){e.generateLandPreviewMap(e.selectedLand.centerCoords),e.generateLandPolygon()}),100)},generateLandPreviewMap:function(t){var e=document.getElementById("mapLandPreview"),n=i("e32c").googleMapOptions;n.zoom=17,n.center={lat:parseFloat(t.split(", ")[0]),lng:parseFloat(t.split(", ")[1])},this.map=new google.maps.Map(e,n)},changeMapType:function(){this.isMapTypeSatellite?this.map.setMapTypeId("roadmap"):this.map.setMapTypeId("satellite")},generateLandPolygon:function(){var t=[],e=this.selectedLand.coords;while(e.length>0){var n=e.substring(e.indexOf("(")+1,e.indexOf(")"));t.push(new google.maps.LatLng(n.split(", ")[0],n.split(", ")[1])),e=e.substring(e.indexOf(")")+1)}var r=i("e32c").bluePolygonColor,a={path:t,strokeColor:r,fillColor:r},s=new google.maps.Polygon(a);s.setMap(this.map)},getDistrictName:function(){for(var t=i("e32c").geojsonDistricts,e=0;e<t.features.length;e++){var n=t.features[e];if(n.properties.id==this.selectedLand.districtCode)return n.properties.name}},getCountyName:function(){for(var t=i("e32c").countysCoords,e=0;e<t.length;e++){var n=t[e];if(n.properties.districtID==this.selectedLand.districtCode)for(var r=0;r<n.features.length;r++){var a=n.features[r];if(a.properties.code==this.selectedLand.countyCode)return a.properties.name}}},getLandAreaHa:function(){return Math.trunc(this.selectedLand.area)/1e4},getLandAreaKm:function(){return Math.trunc(this.selectedLand.area)/1e6},pickedDistrictChanged:function(t){t&&(this.resetLandsTable(),this.lands=this.lands.filter((function(e){return e.districtCode==t.districtCode})))},pickedCountyChanged:function(t){t&&(this.resetLandsTable(),this.lands=this.lands.filter((function(e){return e.countyCode==t.countyCode})))},getLands:function(){var t=this;this.getAllLands().then((function(e){e.data.success&&(t.totalLands=e.data.result)}))},getUsers:function(){var t=this;this.getAllUsers().then((function(e){e.data.success&&(t.users=e.data.result,t.currentUser&&"manager"==t.currentUser.category&&t.filterUsers())}))},filterUsers:function(){if((this.currentUser.managingDistrict||this.currentUser.managingCounty)&&this.totalLands){var t=this;this.users=this.users.filter((function(e){if(t.isUserCurrent(e))return!0;for(var i=0;i<t.totalLands.length;i++){var n=t.totalLands[i];if(t.currentUser.managingDistrict&&n.districtCode==t.currentUser.managingDistrict&&n.userId==e._id)return!0;if(t.currentUser.managingCounty&&n.countyCode==t.currentUser.managingCounty&&n.userId==e._id)return!0}}))}},filterLandsByUser:function(t){this.resetLandsTable(),this.lands=this.lands.filter((function(e){return e.userId==t._id})),this.activeTab=0},filterLandsByCategory:function(){if(this.currentUser){if("admin"==this.currentUser.category)return this.totalLands;for(var t=[],e=0;e<this.totalLands.length;e++){var i=this.totalLands[e];if(i.isPublic&&t.push(i),i.userId==this.currentUser._id)t.push(i);else{if("manager"!=this.currentUser.category)continue;i.districtCode==this.currentUser.managingDistrict?t.push(i):i.countyCode==this.currentUser.managingCounty&&t.push(i)}}return t}},getDistrictNames:function(){var t=i("e32c").geojsonDistricts;this.totalLands.forEach((function(e){for(var i=0;i<t.features.length;i++){var n=t.features[i];if(n.properties.id==e.districtCode){e.districtName=n.properties.name;break}}}))},getCountysNames:function(){var t=i("e32c").countysCoords;this.totalLands.forEach((function(e){for(var i=0;i<t.length;i++){var n=t[i];if(n.properties.districtID==e.districtCode){for(var r=0;r<n.features.length;r++){var a=n.features[r];if(a.properties.code==e.countyCode){e.countyName=a.properties.name;break}}break}}}))},getLandsQuantityByUser:function(t){for(var e=0,i=0;i<this.totalLands.length;i++){var n=this.totalLands[i];n.userId==t._id&&e++}return e},setUserCategory:function(t){this.isCurrentUserAdmin&&!this.isUserCurrent(t)&&(this.userCategoryEdit=t,this.setUserCategoryDialogVisibility=!0)},closeUserCategoryDialog:function(){this.userCategoryEdit=null,this.setUserCategoryDialogVisibility=!1},getLandCreateDate:function(t){return t.createDate.substring(0,10)},getUserIconColor:function(t){if("admin"==t.category)return"green";if("manager"==t.category){if(t.managingDistrict)return"blue";if(t.managingCounty)return"purple"}},getUserIconTooltip:function(t){if("admin"==t.category)return this.$t("label.admin");if("manager"==t.category){if(t.managingDistrict){var e=i("e32c").geojsonDistricts,n=e.features.find((function(e){return e.properties.id==t.managingDistrict})).properties.name;return"".concat(this.$t("label.district_manager"),": ").concat(n)}if(t.managingCounty){for(var r=i("e32c").countysCoords,a=0;a<r.length;a++){for(var s=r[a],o=0;o<s.features.length;o++){var l=s.features[o];if(l.properties.code==t.managingCounty){n=l.properties.name;break}}if(n)break}return"".concat(this.$t("label.county_manager"),": ").concat(n)}}return this.$t("label.regular_user")},getUserZoneIndicator:function(t){if("manager"==t.category){if(t.managingDistrict)return t.managingDistrict;if(t.managingCounty)return t.managingCounty}},isUserCurrent:function(t){return t._id==this.currentUser._id},deleteAccountClick:function(t){this.deleteAccountDialogVisibility=!0,this.userToDelete=t},deleteAccount:function(){var t=this;this.deleteAccountEmailInput==this.userToDelete.email&&(this.deleteAccountDialogVisibility=!1,this.removeUserAccount({userId:this.userToDelete._id,deleteUserLands:this.deleteUserLands}).then((function(e){if(e.data.success)for(var i=0;i<t.users.length;i++)if(t.users[i]._id==t.userToDelete._id){t.users.splice(i,1);break}})))},customSort:function(t,e,i){return t.sort((function(t,n){return i[0]?t[e]+""<n[e]+""?-1:1:n[e]+""<t[e]+""?-1:1})),t}})},W=N,F=(i("7340"),i("ac7c")),H=i("8fea"),Q=i("169a"),K=i("1f4f"),J=i("71a3"),R=i("c671"),Z=i("fe57"),q=i("8654"),G=i("3a2f"),X=Object(v["a"])(W,n,r,!1,null,"0c0f3b81",null);e["default"]=X.exports;b()(X,{VBtn:w["a"],VBtnToggle:T["a"],VCard:I["a"],VCardActions:P["a"],VCardText:P["c"],VCardTitle:P["d"],VCheckbox:F["a"],VDataTable:H["a"],VDialog:Q["a"],VIcon:A["a"],VSimpleTable:K["a"],VSpacer:j["a"],VTab:J["a"],VTabItem:R["a"],VTabs:Z["a"],VTextField:q["a"],VTooltip:G["a"]})},ac7c:function(t,e,i){"use strict";i("a4d3"),i("4de4"),i("4160"),i("0d03"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("25f0"),i("159b");var n=i("2fa7"),r=(i("6ca7"),i("ec29"),i("9d26")),a=i("c37a"),s=(i("45fc"),i("5607")),o=i("2b0e"),l=o["a"].extend({name:"rippleable",directives:{ripple:s["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange:function(){}}}),c=i("8547"),d=i("58df"),u=Object(d["a"])(a["a"],l,c["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"accent"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=this,e=a["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:function(e){e.preventDefault(),t.onChange()}},e):e},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var t=this;if(!this.isDisabled){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var n=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===n&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}});function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e["a"]=u.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return p({},a["a"].options.computed.classes.call(this),{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",p({},this.attrs$,{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.validationState)),this.$createElement(r["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon)])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},e970:function(t,e,i){"use strict";var n=i("ea17"),r=i.n(n);r.a},ea17:function(t,e,i){},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-54a8a5aa.aeaaf87f.js.map